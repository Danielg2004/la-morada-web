<div class="container">
  <div class="card" style="max-width: 760px; margin: 24px auto;">
    <h2>Subir e-book</h2>

    <form class="form" [formGroup]="form" (ngSubmit)="submit()">
      <div class="row">
        <label>T칤tulo *</label>
        <input type="text" formControlName="titulo" />
        <small *ngIf="f['titulo'].touched && f['titulo'].errors?.['required']">
          El t칤tulo es obligatorio.
        </small>
      </div>

      <div class="row">
        <label>URL de imagen (opcional)</label>
        <input type="url" formControlName="imagen_url" placeholder="https://..." />
      </div>

      <div class="row">
        <label>URL de archivo (opcional)</label>
        <input type="url" formControlName="archivo_url" placeholder="https://..." />
      </div>

      <div class="row">
        <label>Descripci칩n (opcional)</label>
        <textarea formControlName="descripcion" rows="4" placeholder="Descripci칩n corta del e-book"></textarea>
        <small *ngIf="f['descripcion'].touched && f['descripcion'].errors?.['maxlength']">
          M치ximo 2000 caracteres.
        </small>
      </div>

      <!-- 游녢 NUEVO: Precio -->
      <div class="row">
        <label>Precio</label>
        <input
          type="number"
          formControlName="price"
          min="0"
          step="0.01"
          placeholder="0.00" />
        <small class="muted">Deja 0 para que sea Gratis.</small>
        <small *ngIf="f['price'].touched && f['price'].errors?.['pattern']">
          Formato inv치lido. Usa hasta 2 decimales (ej: 12.50).
        </small>
      </div>

      <div class="server-error" *ngIf="serverError">{{ serverError }}</div>

      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn" type="submit" [disabled]="loading">Guardar</button>
        <a class="btn outline" routerLink="/ebooks">Cancelar</a>
      </div>
    </form>
  </div>
</div>
